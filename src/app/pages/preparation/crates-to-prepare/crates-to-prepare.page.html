<ion-header>
    <ion-toolbar>
        <ion-title class="ion-text-center">
            <bx-header>Préparation des caisses</bx-header>
        </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <bx-section *ngIf="preparedCrates.length > 0 else noPreparedCrates">
        caisse{{ preparedCrates.length > 1 ? 's' : '' }} préparée{{ preparedCrates.length > 1 ? 's' : '' }}
    </bx-section>
    <bx-card-wrapper *ngFor="let crate of preparedCrates" [leftTitle]="crate.crateNumber"
                     rightTitle="Attente expédition">
        <bx-item [label]="crate.boxType" icon="checked-green.svg" [addCircle]="true" [bolderLabel]="true"></bx-item>
    </bx-card-wrapper>
    <ng-template #noPreparedCrates>
        <bx-section>Caisse préparée</bx-section>
        <bx-empty icon="loading.svg" label="Aucune caisse préparée"></bx-empty>
    </ng-template>
    <bx-section>caisse{{ cratesToPrepare.length > 1 ? 's' : '' }} à préparer</bx-section>
    <div class="wrapped-cards">
        <bx-card-wrapper *ngFor="let crate of cratesToPrepare" [hideTitle]="true" class="wrapped">
            <bx-item [label]="crate.boxType" icon="checked-grey.svg" [addCircle]="true" [bolderLabel]="true"
                     (action)="treatCrate()">
            </bx-item>
        </bx-card-wrapper>
    </div>
</ion-content>
<ion-footer>
    <bx-button label="Terminer" icon="checked-orange.svg" [addCircle]="true" (click)="endPreparations()"
               [light]="true"></bx-button>
</ion-footer>
